<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>ICU Message Format for Translators</title>
<style>
html {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}
*, *:before, *:after {
  box-sizing: inherit;
}
body {
  margin: 0;
  padding: 0;
  color: #111;
}
.icu-m {
  display: inline-block;
  vertical-align: top;
  padding: 0.8em;
  margin: 0.3em;
  color: #567482;
  font-size: 0.9em;
  line-height: 1.45;
  border: 1px solid #dce6f0;
  border-radius: 0.3em;
  background: #f3f6fa;
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  font-weight: bold;
  font-style: normal;
}
.icu-m--bad {
  background: #f3dddd;
}
.icu-m--bad::before {
  display: inline-block;
  vertical-align: top;
  margin: 0 0 0 -0.1em;
  content: "⚠";
  color: #AE5300;
  font-size: 3em;
  line-height: 0.3;
}
.icu-m-arg {
  color: #183691;
  font-weight: normal;
}
.icu-m-argname,
.icu-m-argtype,
.icu-m-argstyle,
.icu-m-argkey {
  color: #0086b3;
  font-style: italic;
}
.icu-m-sub {
  color: #567482;
  font-weight: bold;
  font-style: normal;
}
.ext::after {
  margin: 0 0 0 4px;
  content: url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221%22%20width%3D%2212%22%20height%3D%2212%22%3E%3Cpath%20fill%3D%22%23fff%22%20stroke%3D%22%2306c%22%20d%3D%22M1.5%204.5h6v6h-6z%22%2F%3E%3Cpath%20d%3D%22M4%202.5l1%201%20.25.75-2.5%202.25L5.5%209.25l2.25-2.5.75.25%201%201L11%206.5V1H5.5L4%202.5z%22%20fill%3D%22%2306f%22%20fill-rule%3D%22evenodd%22%2F%3E%3Cpath%20d%3D%22M6%202h4v4l-.5.75-1.25-2-3%203.25L4%206.75l3.25-3-2-1.25L6%202z%22%20fill%3D%22%23fff%22%20fill-rule%3D%22evenodd%22%2F%3E%3C%2Fsvg%3E")
}

.main {
  margin: 10px 490px 10px 10px;
}
.aside {
  position: fixed;
  right: -1px;
  top: -1px;
  width: 480px;
  padding: 10px;
  border: 1px solid #dce6f0;
  max-height: 100%;
  overflow-y: auto;
  border-radius: 0 0 0 0.3em;
  background: #fafafa;
}

.TryIt-text {
  margin: 0;
  width: 100%;
  background: white;
  font-weight: normal;
}
.TryIt-message {
  display: block;
  margin: 10px 0 0 0;
}
.TryIt-error {
  display: block;
  font-weight: normal;
}
.TryIt-params {
  margin: 20px 0 0 0;
  padding: 0;
  border: none;
}
.TryIt-params-legend {
  padding: 0;
}
.TryIt-final {
  display: block;
  margin: 10px 0 0 0;
  color: #0086b3;
}

.p-table {
  display: table;
}
.p-row {
  display: table-row;
}
.p-cell {
  display: table-cell;
  padding: 5px;
}

@media (max-width: 768px) {
  .main {
    margin: 10px;
  }
  .aside {
    position: static;
    margin: 10px;
    width: auto;
    border-radius: 0.3em;
  }
}
</style>
</head>
<body>
<main class="main">
<h1>ICU Message Format for Translators</h2>

<section>
  <h2>TL;DR</h2>
  <p>
    Everything that is bold needs to be translated. Everything italic must not be translated.
    The curly blocks can be moved around as needed. Pink warning blocks are counterexamples.
    Message parts in nested curly blocks may need to be added or removed.
  </p>
  <div class="icu-m" lang="en-US">
    Hello, <span class="icu-m-arg">{<span class="icu-m-argname">place</span>}</span>!
  </div>
  <div class="icu-m" lang="es">
    Hola, <span class="icu-m-arg">{<span class="icu-m-argname">place</span>}</span>!
  </div>
  <div class="icu-m icu-m--bad" lang="pt-BR">
    Oi, <span class="icu-m-arg">{<span class="icu-m-argname">lugar</span>}</span>!
  </div>
  <br/>
  <div class="icu-m" lang="en-US">
    <span class="icu-m-arg">{
      <span class="icu-m-argname">gender</span>,
      <span class="icu-m-argtype">select</span>,<br/>
      &nbsp;&nbsp;<span class="icu-m-argkey">male</span>
      {<span class="icu-m-sub">He won</span>}<br/>
      <span class="icu-m-argkey">female</span>
      {<span class="icu-m-sub">She won</span>}<br/>
      &nbsp;<span class="icu-m-argkey">other</span>
      {<span class="icu-m-sub">They won</span>}
    }</span>
    the game.
  </div>
  <div class="icu-m" lang="pt-BR">
    <span class="icu-m-arg">{
      <span class="icu-m-argname">gender</span>,
      <span class="icu-m-argtype">select</span>,<br/>
      <span class="icu-m-argkey">female</span>
      {<span class="icu-m-sub">Ela ganhou</span>}<br/>
      &nbsp;<span class="icu-m-argkey">other</span>
      {<span class="icu-m-sub">Ele ganhou</span>}
    }</span>
    o jogo.
  </div>
  <div class="icu-m icu-m--bad" lang="pt-BR">
    <span class="icu-m-arg">{
      <span class="icu-m-argname">gender</span>,
      <span class="icu-m-argtype">select</span>,<br/>
      &nbsp;&nbsp;<span class="icu-m-argkey">male</span>
      {<span class="icu-m-sub">He won</span>}<br/>
      <span class="icu-m-argkey">female</span>
      {<span class="icu-m-sub">She won</span>}<br/>
      &nbsp;<span class="icu-m-argkey">other</span>
      {<span class="icu-m-sub">They won</span>}
    }</span>
    o jogo.
  </div>
  <p>
    Hopefully you don't have to translate messages this complex, but the following is valid too.
  </p>
  <div class="icu-m" lang="en-US">
    <span class="icu-m-arg">{
      <span class="icu-m-argname">gender</span>,
      <span class="icu-m-argtype">select</span>,<br/>
      &nbsp;&nbsp;<span class="icu-m-argkey">male</span>
      {<span class="icu-m-sub">On
        <span class="icu-m-arg">{
          <span class="icu-m-argname">date</span>,
          <span class="icu-m-argtype">date</span>,
          <span class="icu-m-argstyle">short</span>
        }</span>,
        <span class="icu-m-arg">{<span class="icu-m-argname">name</span>}</span>
        ate <span class="icu-m-arg">{<br/>&nbsp;&nbsp;&nbsp;
          <span class="icu-m-argname">numBananas</span>,
          <span class="icu-m-argtype">plural</span>,<br/>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="icu-m-argkey">=0</span>
          {<span class="icu-m-sub">no bananas</span>}<br/>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="icu-m-argkey">one</span>
          {<span class="icu-m-sub">a banana</span>}<br/>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="icu-m-argkey">=2</span>
          {<span class="icu-m-sub">a pair of bananas</span>}<br/>
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="icu-m-argkey">other</span>
          {<span class="icu-m-sub"># bananas</span>}<br/>
        &nbsp;&nbsp;}</span>
        at his house.</span>}<br/>
      <span class="icu-m-argkey">female</span>
      {<span class="icu-m-sub">On
        <span class="icu-m-arg">{
          <span class="icu-m-argname">date</span>,
          <span class="icu-m-argtype">date</span>,
          <span class="icu-m-argstyle">short</span>
        }</span>,
        <span class="icu-m-arg">{<span class="icu-m-argname">name</span>}</span>
        ate <span class="icu-m-arg">{<br/>&nbsp;&nbsp;&nbsp;
          <span class="icu-m-argname">numBananas</span>,
          <span class="icu-m-argtype">plural</span>,<br/>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="icu-m-argkey">=0</span>
          {<span class="icu-m-sub">no bananas</span>}<br/>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="icu-m-argkey">one</span>
          {<span class="icu-m-sub">a banana</span>}<br/>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="icu-m-argkey">=2</span>
          {<span class="icu-m-sub">a pair of bananas</span>}<br/>
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="icu-m-argkey">other</span>
          {<span class="icu-m-sub"># bananas</span>}<br/>
        &nbsp;&nbsp;}</span>
        at her house.</span>}<br/>
      &nbsp;<span class="icu-m-argkey">other</span>
      {<span class="icu-m-sub">On
        <span class="icu-m-arg">{
          <span class="icu-m-argname">date</span>,
          <span class="icu-m-argtype">date</span>,
          <span class="icu-m-argstyle">short</span>
        }</span>,
        <span class="icu-m-arg">{<span class="icu-m-argname">name</span>}</span>
        ate <span class="icu-m-arg">{<br/>&nbsp;&nbsp;&nbsp;
          <span class="icu-m-argname">numBananas</span>,
          <span class="icu-m-argtype">plural</span>,<br/>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="icu-m-argkey">=0</span>
          {<span class="icu-m-sub">no bananas</span>}<br/>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="icu-m-argkey">one</span>
          {<span class="icu-m-sub">a banana</span>}<br/>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="icu-m-argkey">=2</span>
          {<span class="icu-m-sub">a pair of bananas</span>}<br/>
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="icu-m-argkey">other</span>
          {<span class="icu-m-sub"># bananas</span>}<br/>
        &nbsp;&nbsp;}</span>
        at their house.</span>}
    }</span>
  </div>
</section>

<section>
  <h2>Overview</h2>
  <p>
    <a class="ext" href="http://site.icu-project.org/">International Components for Unicode or ICU</a>
    is a globalization library providing string comparison, text formatting and more.
    This document focuses on the message formatting patterns created by ICU that can be used in
    <a class="ext" href="http://icu-project.org/apiref/icu4c/">C/C++</a>,
    <a class="ext" href="http://icu-project.org/apiref/icu4j/">Java</a>,
    <a class="ext" href="http://php.net/manual/en/class.messageformatter.php">PHP</a>,
    <a class="ext" href="https://rubygems.org/gems/message_format">Ruby</a>, and
    <a class="ext" href="https://www.npmjs.com/package/format-message">JavaScript</a
    ><a class="ext" href="https://www.npmjs.com/package/messageformat"></a
    ><a class="ext" href="https://www.npmjs.com/package/intl-messageformat"></a>
  </p>
</section>

<section>
  <h2>Basic placeholders</h2>
  <p>
    Messages written in the ICU format can contain placeholders that are replaced before the final message is shown.
    These placeholders are surrounded by curly braces {}. For example:
  </p>
  <div class="icu-m" lang="en-US">
    Hello,
    <span class="icu-m-arg">{<span class="icu-m-argname">firstName</span>}</span>
    <span class="icu-m-arg">{<span class="icu-m-argname">lastName</span>}</span>!
  </div>
  <p>
    It is important when translating these strings to not translate the placeholders.
    They can, however, be reordered or moved within the message.
  </p>
  <div class="icu-m" lang="zh-TW">
    歡迎
    <span class="icu-m-arg">{<span class="icu-m-argname">lastName</span>}</span>
    <span class="icu-m-arg">{<span class="icu-m-argname">firstName</span>}</span>
    回來
  </div>
  <p>
    Removing or translating the placeholders can mess up the final message. The following are incorrect:
  </p>
  <div class="icu-m icu-m--bad" lang="pt-BR">
    Oi,
    <span class="icu-m-arg">{<span class="icu-m-argname">primeiroNome</span>}</span>
    <span class="icu-m-arg">{<span class="icu-m-argname">sobreNome</span>}</span>!
  </div>
  <div class="icu-m icu-m--bad" lang="pt-BR">
    Oi, primeiroNome!
  </div>
</section>

<section>
  <h2>Number, Date, and Time placeholders</h2>
  <p>
    Placeholders can include additional formatting information which should also be preserved during translation.
  </p>
  <div class="icu-m" lang="en-US">
    Last modified
    <span class="icu-m-arg">{<span class="icu-m-argname">updated</span>,
      <span class="icu-m-argtype">date</span>,
      <span class="icu-m-argstyle">short</span>}</span>
    <span class="icu-m-arg">{<span class="icu-m-argname">updated</span>,
      <span class="icu-m-argtype">time</span>}</span>.
  </div>
  <div class="icu-m" lang="es">
    Fue modificado el
    <span class="icu-m-arg">{<span class="icu-m-argname">updated</span>,
      <span class="icu-m-argtype">date</span>,
      <span class="icu-m-argstyle">short</span>}</span>
    <span class="icu-m-arg">{<span class="icu-m-argname">updated</span>,
      <span class="icu-m-argtype">time</span>}</span>.
  </div>
  <p>
    The spacing inside the braces is not significant, so the following are all the same:
  </p>
  <div class="icu-m" lang="en-US">
    <span class="icu-m-arg">{
      <span class="icu-m-argname">updated</span>,<br/>
      <span class="icu-m-argtype">date</span>,<br/>
      <span class="icu-m-argstyle">short</span>
    }</span>
  </div>
  <div class="icu-m" lang="en-US">
    <span class="icu-m-arg">{<span
      class="icu-m-argname">updated</span>,<span
      class="icu-m-argtype">date</span>,<span
      class="icu-m-argstyle">short</span>}</span>
  </div>
  <div class="icu-m" lang="en-US">
    <span class="icu-m-arg">{
      <span class="icu-m-argname">updated</span> ,
      <span class="icu-m-argtype">date</span> ,
      <span class="icu-m-argstyle">short</span>
    }</span>
  </div>
</section>

<section>
  <h2>Select, Plural, and Select Ordinal placeholders</h2>
  <p>
    While the simple placeholders shown so far are not translated,
    there are more advanced placeholders that include message parts that should be translated.
    These message parts are wrapped by additional curly braces {}.
  </p>
  <p>
    <strong>select</strong> placeholders pick a message part to show based on text matching.
    This is often used for gender <code>male</code> or <code>female</code>, but it can be any text key.
  </p>
  <div class="icu-m" lang="en-US">
    <span class="icu-m-arg">{
      <span class="icu-m-argname">gender</span>,
      <span class="icu-m-argtype">select</span>,<br/>
      &nbsp;&nbsp;<span class="icu-m-argkey">male</span>
      {<span class="icu-m-sub">He won</span>}<br/>
      <span class="icu-m-argkey">female</span>
      {<span class="icu-m-sub">She won</span>}<br/>
      &nbsp;<span class="icu-m-argkey">other</span>
      {<span class="icu-m-sub">They won</span>}
    }</span>
    the game.
  </div>
  <div class="icu-m" lang="pt-BR">
    <span class="icu-m-arg">{
      <span class="icu-m-argname">gender</span>,
      <span class="icu-m-argtype">select</span>,<br/>
      &nbsp;&nbsp;<span class="icu-m-argkey">male</span>
      {<span class="icu-m-sub">Ele ganhou</span>}<br/>
      <span class="icu-m-argkey">female</span>
      {<span class="icu-m-sub">Ela ganhou</span>}<br/>
      &nbsp;<span class="icu-m-argkey">other</span>
      {<span class="icu-m-sub">Ele ganhou</span>}
    }</span>
    o jogo.
  </div>
  <p>
    The message parts inside these placeholders need to be translated, and you may need to add or remove message parts depending on the rules of your target language.
    Every one of these placeholders must have an <code>other</code> message.
    If the <code>other</code> message is redundant, you can remove the more specific duplicate message.
  </p>
  <div class="icu-m" lang="pt-BR">
    <span class="icu-m-arg">{
      <span class="icu-m-argname">gender</span>,
      <span class="icu-m-argtype">select</span>,
      <span class="icu-m-argkey">female</span>
      {<span class="icu-m-sub">Ela ganhou</span>}
      <span class="icu-m-argkey">other</span>
      {<span class="icu-m-sub">Ele ganhou</span>}
    }</span>
    o jogo.
  </div>
  <p>
    <strong>plural</strong> placeholders pick a message part to show based on number pluralization rules.
    In English everything is plural <code>other</code> except when there is only <code>one</code>. For example: 0 messages, 1 message, 20 messages.
    Each language has its own rules for pluralization, and in ICU the possible keys are <code>zero</code>, <code>one</code>, <code>two</code>, <code>few</code>, <code>many</code>, and <code>other</code>.
    If you want a message for a specific number that does not correspond to a key,
    or for which the key doesn't have a rule in you language you can use <code>=n</code>.
  </p>
  <div class="icu-m" lang="en-US">
    <span class="icu-m-arg">{
      <span class="icu-m-argname">numBananas</span>,
      <span class="icu-m-argtype">plural</span>,<br/>
      &nbsp;&nbsp;&nbsp;<span class="icu-m-argkey">=0</span>
      {<span class="icu-m-sub">no bananas</span>}<br/>
      &nbsp;&nbsp;<span class="icu-m-argkey">one</span>
      {<span class="icu-m-sub">a banana</span>}<br/>
      <span class="icu-m-argkey">other</span>
      {<span class="icu-m-sub"><span class="icu-m-arg">#</span> bananas</span>}
    }</span>
  </div>
  <p>
    As the example showed, message parts for specific numbers can use a special <code>#</code> placeholder that will be replaced with the actual number, formatted as a <code>number</code> placeholder.
  </p>
  <p>
    <strong>selectordinal</strong> placeholders are much like plural, only they are used for ordering instead of counting.
    The keys are the same as for plural, but the rules for each language may be different.
    For example, English has different forms for 1st, 2nd, 3rd, and 4th, and these correspond to keys
    <code>one</code>, <code>two</code>, <code>few</code>, and <code>other</code>.
  </p>
  <div class="icu-m" lang="en-US">
    <span class="icu-m-arg">{
      <span class="icu-m-argname">rank</span>,
      <span class="icu-m-argtype">selectordinal</span>,<br/>
      &nbsp;&nbsp;<span class="icu-m-argkey">one</span>
      {<span class="icu-m-sub"><span class="icu-m-arg">#</span>st place</span>}<br/>
      &nbsp;&nbsp;<span class="icu-m-argkey">two</span>
      {<span class="icu-m-sub"><span class="icu-m-arg">#</span>nd place</span>}<br/>
      &nbsp;&nbsp;<span class="icu-m-argkey">few</span>
      {<span class="icu-m-sub"><span class="icu-m-arg">#</span>rd place</span>}<br/>
      <span class="icu-m-argkey">other</span>
      {<span class="icu-m-sub"><span class="icu-m-arg">#</span>th place</span>}
    }</span>
  </div>
</main>
<aside class="aside">
  <h2>Try it out</h2>
  <p>
    Type out or paste a message below to see how it will be parsed.
  </p>
  <div id="tryit">
  </div>
</aside>


<script src="https://fb.me/react-0.13.3.js"></script>
<script>
// message-format/browser.js
!function(r){function t(n){if(e[n])return e[n].exports;var a=e[n]={exports:{},id:n,loaded:!1};return r[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var e={};return t.m=r,t.c=e,t.p="/",t(0)}([function(r,t,e){r.exports=e(2)},function(r,t){"use strict";function e(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.__proto__=t)}function n(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var a=function(){function r(){var t=void 0===arguments[0]?{}:arguments[0],e=t.escape;n(this,r),this.escape=e||"'",this.pattern=null,this.index=0}return r.prototype.parse=function(r){return this.pattern=r,this.index=0,this.parseMessage("message")},r.prototype.isDigit=function(r){return"0"===r||"1"===r||"2"===r||"3"===r||"4"===r||"5"===r||"6"===r||"7"===r||"8"===r||"9"===r},r.prototype.isWhitespace=function(r){return" "===r||"	"===r||"\n"===r||"\r"===r||"\f"===r||""===r||" "===r||"\u2028"===r||"\u2029"===r},r.prototype.skipWhitespace=function(){for(var r=this.pattern,t=r.length;this.index<t&&this.isWhitespace(r.charAt(this.index));)++this.index},r.prototype.parseText=function(r){for(var t=this.pattern,e=t.length,n="plural"===r||"selectordinal"===r,a="style"===r,l=this.escape,i="",o=void 0;this.index<e&&(o=t.charAt(this.index),!("{"===o||"}"===o||n&&"#"===o||a&&this.isWhitespace(o)));)if("'"===l&&"'"===o)if(o=t.charAt(++this.index),"'"===o)i+=o,++this.index;else if("{"===o||"}"===o||n&&"#"===o||a&&this.isWhitespace(o))for(i+=o;++this.index<e;)if(o=t.charAt(this.index),"''"===t.slice(this.index,this.index+2))i+=o,++this.index;else{if("'"===o){++this.index;break}i+=o}else i+="'";else l&&l===o?(o=t.charAt(++this.index),i+=o,++this.index):(i+=o,++this.index);return i},r.prototype.parseArgument=function(){var r=this.pattern;if("#"===r.charAt(this.index))return++this.index,["#"];++this.index;var t=this.parseArgId(),e=r.charAt(this.index);if("}"===e)return++this.index,[t];","!==e&&this.throwExpected(","),++this.index;var n=this.parseArgType();if(e=r.charAt(this.index),"}"===e)return("plural"===n||"selectordinal"===n||"select"===n)&&this.throwExpected(n+" message options"),++this.index,[t,n];","!==e&&this.throwExpected(","),++this.index;var a=void 0,l=void 0;return"plural"===n||"selectordinal"===n?(l=this.parsePluralOffset(),a=this.parseSubMessages(n)):a="select"===n?this.parseSubMessages(n):this.parseSimpleFormat(),e=r.charAt(this.index),"}"!==e&&this.throwExpected("}"),++this.index,"plural"===n||"selectordinal"===n?[t,n,l,a]:[t,n,a]},r.prototype.parseArgId=function(){this.skipWhitespace();for(var r=this.pattern,t=r.length,e="";this.index<t;){var n=r.charAt(this.index);if(("{"===n||"#"===n)&&this.throwExpected("argument id"),"}"===n||","===n||this.isWhitespace(n))break;e+=n,++this.index}return e||this.throwExpected("argument id"),this.skipWhitespace(),e},r.prototype.parseArgType=function(){this.skipWhitespace();for(var r=this.pattern,t=void 0,e=["number","date","time","ordinal","duration","spellout","plural","selectordinal","select"],n=0,a=e.length;a>n;++n){var l=e[n];if(r.slice(this.index,this.index+l.length)===l){t=l,this.index+=l.length;break}}return t||this.throwExpected(e.join(", ")),this.skipWhitespace(),t},r.prototype.parseSimpleFormat=function(){this.skipWhitespace();var r=this.parseText("style");return r||this.throwExpected("argument style name"),this.skipWhitespace(),r},r.prototype.parsePluralOffset=function(){this.skipWhitespace();var r=0,t=this.pattern,e=t.length;if("offset:"===t.slice(this.index,this.index+7)){this.index+=7,this.skipWhitespace();for(var n=this.index;this.index<e&&this.isDigit(t.charAt(this.index));)++this.index;n===this.index&&this.throwExpected("offset number"),r=+t.slice(n,this.index),this.skipWhitespace()}return r},r.prototype.parseSubMessages=function(r){this.skipWhitespace();for(var t=this.pattern,e=t.length,n={},a=!1;this.index<e&&"}"!==t.charAt(this.index);){var l=this.parseSelector();this.skipWhitespace(),n[l]=this.parseSubMessage(r),a=!0,this.skipWhitespace()}return a||this.throwExpected(r+" message options"),"other"in n||this.throwExpected(null,null,'"other" option must be specified in '+r),n},r.prototype.parseSelector=function(){for(var r=this.pattern,t=r.length,e="";this.index<t;){var n=r.charAt(this.index);if(("}"===n||","===n)&&this.throwExpected("{"),"{"===n||this.isWhitespace(n))break;e+=n,++this.index}return e||this.throwExpected("selector"),this.skipWhitespace(),e},r.prototype.parseSubMessage=function(r){var t=this.pattern.charAt(this.index);"{"!==t&&this.throwExpected("{"),++this.index;var e=this.parseMessage(r);return t=this.pattern.charAt(this.index),"}"!==t&&this.throwExpected("}"),++this.index,e},r.prototype.parseMessage=function(r){var t=this.pattern,e=t.length,n=void 0,a=[];for((n=this.parseText(r))&&a.push(n);this.index<e;){if("}"===t.charAt(this.index)){"message"===r&&this.throwExpected();break}a.push(this.parseArgument(r)),(n=this.parseText(r))&&a.push(n)}return a},r.prototype.throwExpected=function(r,t,e){var n=this.pattern,a=n.slice(0,this.index).split(/\r?\n/),i=this.index,o=a.length,u=a.slice(-1)[0].length;throw t||(t=this.pattern.charAt(this.index)||"end of input"),e||(e=this.errorMessage(r,t)),e+=" in "+n.replace(/\r?\n/g,"\n"),new l(e,r,t,i,o,u)},r.prototype.errorMessage=function(r,t){return r?"Expected "+r+" but "+t+" found":"Unexpected "+t+" found"},r.parse=function(t,e){return new r(e).parse(t)},r}();t["default"]=a;var l=function(r){function t(e,a,l,i,o,u){n(this,t),r.call(this,e),this.name="SyntaxError",this.message=e,this.expected=a,this.found=l,this.offset=i,this.line=o,this.column=u}return e(t,r),t}(Error);a.SyntaxError=l,r.exports=t["default"]},function(r,t,e){"use strict";(window.Intl||(window.Intl={})).MessageFormat=e(7),Intl.MessageFormat.Parser=e(1)},function(r,t,e){"use strict";function n(r){return r&&r.__esModule?r:{"default":r}}t.__esModule=!0;var a=e(5),l=n(a),i={locales:{},formats:{cache:{},number:{currency:{style:"currency",currency:"USD"},percent:{style:"percent"}},date:{"short":{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},"long":{month:"long",day:"numeric",year:"numeric"},full:{month:"long",day:"numeric",year:"numeric",weekday:"long"}},time:{"short":{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},"long":{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}}};Object.keys(l["default"]).forEach(function(r){var t=l["default"][r],e=t.plural,n=t.ordinal;i.locales[r]={locale:r,plural:e,ordinal:n}}),t["default"]=i,r.exports=t["default"]},function(r,t){"use strict";function e(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var n=function(){function r(){var t=void 0===arguments[0]?{}:arguments[0],n=t.locale,a=t.data,l=t.formats,i=t.cache;e(this,r),this.originalLocale=n,this.localeData=a,this.formats=l,this.enableCache="boolean"==typeof i?i:!0}return r.prototype.interpret=function(r){return this.interpretSubs(r)},r.prototype.interpretSubs=function(r,t){var e=this;return r=r.map(function(r){return e.interpretElement(r,t)}),1===r.length?r[0]:function(t){for(var e="",n=0,a=r.length;a>n;++n)e+=r[n](t);return e}},r.prototype.interpretElement=function(r,t){if("string"==typeof r)return function(){return r};var e=r[0],n=r[1],a=r[2],l=0,i=void 0;switch("#"===e&&(e=t[0],n="number",l=t[2],a=null),n){case"number":case"ordinal":case"spellout":case"duration":return this.interpretNumber(e,l,a);case"date":case"time":return this.interpretDateTime(e,n,a);case"plural":case"selectordinal":return l=r[2],i=r[3],this.interpretPlural(e,n,l,i);case"select":return this.interpretSelect(e,a);default:return this.interpretSimple(e)}},r.prototype.interpretNumber=function(r,t){var e=this,n=void 0===arguments[2]?"medium":arguments[2];t=t||0;var a=this.originalLocale,l=this.formats,i=l.cache,o=a+":number:"+n,u=void 0;return this.enableCache&&o in i?u=i[o]:!function(){var r=l.number[n];u="undefined"!=typeof Intl&&Intl.NumberFormat?new Intl.NumberFormat(a,r).format:function(t){return Number(t).toLocaleString(a,r)},e.enableCache&&(i[o]=u)}(),function(e){return u(+e[r]-t)}},r.prototype.interpretDateTime=function(r,t){var e=this,n=void 0===arguments[2]?"medium":arguments[2],a=this.originalLocale,l=this.formats,i=l.cache,o=a+":"+t+":"+n,u=void 0;return this.enableCache&&o in i?u=i[o]:!function(){var r=l[t][n],s="time"===t?"toLocaleTimeString":"toLocaleDateString";u="undefined"!=typeof Intl&&Intl.DateTimeFormat?new Intl.DateTimeFormat(a,r).format:function(t){return new Date(t)[s](a,r)},e.enableCache&&(i[o]=u)}(),function(t){return u(t[r])}},r.prototype.interpretPlural=function(r,t,e,n){var a=this,l="selectordinal"===t?this.localeData.ordinal:this.localeData.plural,i=[r,t,e],o={};return Object.keys(n).forEach(function(r){o[r]=a.interpretSubs(n[r],i)}),function(t){var n=+t[r],a="="+n,i=l?l(n-e):"other",u=o[a]||o[i]||o.other;return u(t)}},r.prototype.interpretSelect=function(r,t){var e=this,n={};return Object.keys(t).forEach(function(r){n[r]=e.interpretSubs(t[r],null)}),function(t){var e=t[r],a=n[e]||n.other;return a(t)}},r.prototype.interpretSimple=function(r){return function(t){return""+t[r]}},r.interpret=function(t,e){return new r(e).interpret(t)},r}();t["default"]=n,r.exports=t["default"]},function(r,t){"use strict";var e=[function(r){var t=+r;return 1===t?"one":"other"},function(r){var t=+r;return t>=0&&1>=t?"one":"other"},function(r){var t=Math.floor(Math.abs(+r)),e=+r;return 0===t||1===e?"one":"other"},function(r){var t=+r;return 0===t?"zero":1===t?"one":2===t?"two":t%100>=3&&10>=t%100?"few":t%100>=11&&99>=t%100?"many":"other"},function(r){var t=Math.floor(Math.abs(+r)),e=(r+".").split(".")[1].length;return 1===t&&0===e?"one":"other"},function(r){var t=+r;return t%10===1&&t%100!==11?"one":t%10>=2&&4>=t%10&&(12>t%100||t%100>14)?"few":t%10===0||t%10>=5&&9>=t%10||t%100>=11&&14>=t%100?"many":"other"},function(){return"other"},function(r){var t=+r;return t%10===1&&t%100!==11&&t%100!==71&&t%100!==91?"one":t%10===2&&t%100!==12&&t%100!==72&&t%100!==92?"two":(t%10>=3&&4>=t%10||t%10===9)&&(10>t%100||t%100>19)&&(70>t%100||t%100>79)&&(90>t%100||t%100>99)?"few":0!==t&&t%1e6===0?"many":"other"},function(r){var t=Math.floor(Math.abs(+r)),e=(r+".").split(".")[1].length,n=+(r+".").split(".")[1];return 0===e&&t%10===1&&t%100!==11||n%10===1&&n%100!==11?"one":0===e&&t%10>=2&&4>=t%10&&(12>t%100||t%100>14)||n%10>=2&&4>=n%10&&(12>n%100||n%100>14)?"few":"other"},function(r){var t=Math.floor(Math.abs(+r)),e=(r+".").split(".")[1].length;return 1===t&&0===e?"one":t>=2&&4>=t&&0===e?"few":0!==e?"many":"other"},function(r){var t=+r;return 0===t?"zero":1===t?"one":2===t?"two":3===t?"few":6===t?"many":"other"},function(r){var t=Math.floor(Math.abs(+r)),e=+(""+r).replace(/^[^.]*.?|0+$/g,""),n=+r;return 1===n||0!==e&&(0===t||1===t)?"one":"other"},function(r){var t=Math.floor(Math.abs(+r)),e=(r+".").split(".")[1].length,n=+(r+".").split(".")[1];return 0===e&&t%100===1||n%100===1?"one":0===e&&t%100===2||n%100===2?"two":0===e&&t%100>=3&&4>=t%100||n%100>=3&&4>=n%100?"few":"other"},function(r){var t=Math.floor(Math.abs(+r));return 0===t||1===t?"one":"other"},function(r){var t=Math.floor(Math.abs(+r)),e=(r+".").split(".")[1].length,n=+(r+".").split(".")[1];return 0===e&&(1===t||2===t||3===t)||0===e&&t%10!==4&&t%10!==6&&t%10!==9||0!==e&&n%10!==4&&n%10!==6&&n%10!==9?"one":"other"},function(r){var t=+r;return 1===t?"one":2===t?"two":t>=3&&6>=t?"few":t>=7&&10>=t?"many":"other"},function(r){var t=+r;return 1===t||11===t?"one":2===t||12===t?"two":t>=3&&10>=t||t>=13&&19>=t?"few":"other"},function(r){var t=Math.floor(Math.abs(+r)),e=(r+".").split(".")[1].length;return 0===e&&t%10===1?"one":0===e&&t%10===2?"two":0!==e||t%100!==0&&t%100!==20&&t%100!==40&&t%100!==60&&t%100!==80?0!==e?"many":"other":"few"},function(r){var t=Math.floor(Math.abs(+r)),e=(r+".").split(".")[1].length,n=+r;return 1===t&&0===e?"one":2===t&&0===e?"two":0===e&&(0>n||n>10)&&n%10===0?"many":"other"},function(r){var t=Math.floor(Math.abs(+r)),e=+(""+r).replace(/^[^.]*.?|0+$/g,"");return 0===e&&t%10===1&&t%100!==11||0!==e?"one":"other"},function(r){var t=+r;return 1===t?"one":2===t?"two":"other"},function(r){var t=+r;return 0===t?"zero":1===t?"one":"other"},function(r){var t=Math.floor(Math.abs(+r)),e=+r;return 0===e?"zero":0!==t&&1!==t||0===e?"other":"one"},function(r){var t=+(r+".").split(".")[1],e=+r;return e%10===1&&(11>e%100||e%100>19)?"one":e%10>=2&&9>=e%10&&(11>e%100||e%100>19)?"few":0!==t?"many":"other"},function(r){var t=(r+".").split(".")[1].length,e=+(r+".").split(".")[1],n=+r;return n%10===0||n%100>=11&&19>=n%100||2===t&&e%100>=11&&19>=e%100?"zero":n%10===1&&n%100!==11||2===t&&e%10===1&&e%100!==11||2!==t&&e%10===1?"one":"other"},function(r){var t=Math.floor(Math.abs(+r)),e=(r+".").split(".")[1].length,n=+(r+".").split(".")[1];return 0===e&&t%10===1||n%10===1?"one":"other"},function(r){var t=Math.floor(Math.abs(+r)),e=(r+".").split(".")[1].length,n=+r;return 1===t&&0===e?"one":0!==e||0===n||1!==n&&n%100>=1&&19>=n%100?"few":"other"},function(r){var t=+r;return 1===t?"one":0===t||t%100>=2&&10>=t%100?"few":t%100>=11&&19>=t%100?"many":"other"},function(r){var t=Math.floor(Math.abs(+r)),e=(r+".").split(".")[1].length;return 1===t&&0===e?"one":0===e&&t%10>=2&&4>=t%10&&(12>t%100||t%100>14)?"few":0===e&&1!==t&&t%10>=0&&1>=t%10||0===e&&t%10>=5&&9>=t%10||0===e&&t%100>=12&&14>=t%100?"many":"other"},function(r){var t=+r;return t>=0&&2>=t&&2!==t?"one":"other"},function(r){var t=(r+".").split(".")[1].length,e=+r;return 1===e&&0===t?"one":"other"},function(r){var t=Math.floor(Math.abs(+r)),e=(r+".").split(".")[1].length;return 0===e&&t%10===1&&t%100!==11?"one":0===e&&t%10>=2&&4>=t%10&&(12>t%100||t%100>14)?"few":0===e&&t%10===0||0===e&&t%10>=5&&9>=t%10||0===e&&t%100>=11&&14>=t%100?"many":"other"},function(r){var t=Math.floor(Math.abs(+r)),e=+r;return 0===t||1===e?"one":e>=2&&10>=e?"few":"other"},function(r){var t=Math.floor(Math.abs(+r)),e=+(r+".").split(".")[1],n=+r;return 0===n||1===n||0===t&&1===e?"one":"other"},function(r){var t=Math.floor(Math.abs(+r)),e=(r+".").split(".")[1].length;return 0===e&&t%100===1?"one":0===e&&t%100===2?"two":0===e&&t%100>=3&&4>=t%100||0!==e?"few":"other"},function(r){var t=+r;return t>=0&&1>=t||t>=11&&99>=t?"one":"other"},function(r){var t=+r;return 1===t||5===t||7===t||8===t||9===t||10===t?"one":2===t||3===t?"two":4===t?"few":6===t?"many":"other"},function(r){var t=Math.floor(Math.abs(+r));return t%10===1||t%10===2||t%10===5||t%10===7||t%10===8||t%100===20||t%100===50||t%100===70||t%100===80?"one":t%10===3||t%10===4||t%1e3===100||t%1e3===200||t%1e3===300||t%1e3===400||t%1e3===500||t%1e3===600||t%1e3===700||t%1e3===800||t%1e3===900?"few":0===t||t%10===6||t%100===40||t%100===60||t%100===90?"many":"other"},function(r){var t=+r;return 1===t||3===t?"one":2===t?"two":4===t?"few":"other"},function(r){var t=+r;return 0===t||7===t||8===t||9===t?"zero":1===t?"one":2===t?"two":3===t||4===t?"few":5===t||6===t?"many":"other"},function(r){var t=+r;return t%10===1&&t%100!==11?"one":t%10===2&&t%100!==12?"two":t%10===3&&t%100!==13?"few":"other"},function(r){var t=+r;return 1===t?"one":2===t||3===t?"two":4===t?"few":6===t?"many":"other"},function(r){var t=+r;return 1===t||5===t?"one":"other"},function(r){var t=+r;return 11===t||8===t||80===t||800===t?"many":"other"},function(r){var t=Math.floor(Math.abs(+r));return 1===t?"one":0===t||t%100>=2&&20>=t%100||t%100===40||t%100===60||t%100===80?"many":"other"},function(r){var t=+r;return t%10===6||t%10===9||t%10===0&&0!==t?"many":"other"},function(r){var t=Math.floor(Math.abs(+r));return t%10===1&&t%100!==11?"one":t%10===2&&t%100!==12?"two":t%10!==7&&t%10!==8||t%100===17||t%100===18?"other":"many"},function(r){var t=+r;return 1===t?"one":2===t||3===t?"two":4===t?"few":"other"},function(r){var t=+r;return t>=1&&4>=t?"one":"other"},function(r){var t=+r;return 1===t?"one":t%10===4&&t%100!==14?"many":"other"},function(r){var t=+r;return t%10!==1&&t%10!==2||t%100===11||t%100===12?"other":"one"},function(r){var t=+r;return t%10===3&&t%100!==13?"few":"other"}];r.exports={af:{plural:e[0],ordinal:e[6]},ak:{plural:e[1]},am:{plural:e[2],ordinal:e[6]},ar:{plural:e[3],ordinal:e[6]},as:{plural:e[2],ordinal:e[36]},asa:{plural:e[0]},ast:{plural:e[4]},az:{plural:e[0],ordinal:e[37]},be:{plural:e[5]},bem:{plural:e[0]},bez:{plural:e[0]},bg:{plural:e[0],ordinal:e[6]},bh:{plural:e[1]},bm:{plural:e[6]},bn:{plural:e[2],ordinal:e[36]},bo:{plural:e[6]},br:{plural:e[7]},brx:{plural:e[0]},bs:{plural:e[8],ordinal:e[6]},ca:{plural:e[4],ordinal:e[38]},ce:{plural:e[0],ordinal:e[6]},cgg:{plural:e[0]},chr:{plural:e[0]},ckb:{plural:e[0]},cs:{plural:e[9],ordinal:e[6]},cy:{plural:e[10],ordinal:e[39]},da:{plural:e[11],ordinal:e[6]},de:{plural:e[4],ordinal:e[6]},dsb:{plural:e[12],ordinal:e[6]},dv:{plural:e[0]},dz:{plural:e[6]},ee:{plural:e[0]},el:{plural:e[0],ordinal:e[6]},en:{plural:e[4],ordinal:e[40]},eo:{plural:e[0]},es:{plural:e[0],ordinal:e[6]},et:{plural:e[4],ordinal:e[6]},eu:{plural:e[0],ordinal:e[6]},fa:{plural:e[2],ordinal:e[6]},ff:{plural:e[13]},fi:{plural:e[4],ordinal:e[6]},fil:{plural:e[14],ordinal:e[0]},fo:{plural:e[0]},fr:{plural:e[13],ordinal:e[0]},fur:{plural:e[0]},fy:{plural:e[4],ordinal:e[6]},ga:{plural:e[15]},gd:{plural:e[16]},gl:{plural:e[4],ordinal:e[6]},gsw:{plural:e[0]},gu:{plural:e[2],ordinal:e[41]},guw:{plural:e[1]},gv:{plural:e[17]},ha:{plural:e[0]},haw:{plural:e[0]},he:{plural:e[18],ordinal:e[6]},hi:{plural:e[2],ordinal:e[41]},hr:{plural:e[8],ordinal:e[6]},hsb:{plural:e[12],ordinal:e[6]},hu:{plural:e[0],ordinal:e[42]},hy:{plural:e[13],ordinal:e[0]},id:{plural:e[6],ordinal:e[6]},ig:{plural:e[6]},ii:{plural:e[6]},"in":{plural:e[6],ordinal:e[6]},is:{plural:e[19],ordinal:e[6]},it:{plural:e[4],ordinal:e[43]},iu:{plural:e[20]},iw:{plural:e[18],ordinal:e[6]},ja:{plural:e[6],ordinal:e[6]},jbo:{plural:e[6]},jgo:{plural:e[0]},ji:{plural:e[4]},jmc:{plural:e[0]},jv:{plural:e[6]},jw:{plural:e[6]},ka:{plural:e[0],ordinal:e[44]},kab:{plural:e[13]},kaj:{plural:e[0]},kcg:{plural:e[0]},kde:{plural:e[6]},kea:{plural:e[6]},kk:{plural:e[0],ordinal:e[45]},kkj:{plural:e[0]},kl:{plural:e[0]},km:{plural:e[6],ordinal:e[6]},kn:{plural:e[2],ordinal:e[6]},ko:{plural:e[6],ordinal:e[6]},ks:{plural:e[0]},ksb:{plural:e[0]},ksh:{plural:e[21]},ku:{plural:e[0]},kw:{plural:e[20]},ky:{plural:e[0],ordinal:e[6]},lag:{plural:e[22]},lb:{plural:e[0]},lg:{plural:e[0]},lkt:{plural:e[6]},ln:{plural:e[1]},lo:{plural:e[6],ordinal:e[0]},lt:{plural:e[23],ordinal:e[6]},lv:{plural:e[24],ordinal:e[6]},mas:{plural:e[0]},mg:{plural:e[1]},mgo:{plural:e[0]},mk:{plural:e[25],ordinal:e[46]},ml:{plural:e[0],ordinal:e[6]},mn:{plural:e[0],ordinal:e[6]},mo:{plural:e[26],ordinal:e[0]},mr:{plural:e[2],ordinal:e[47]},ms:{plural:e[6],ordinal:e[0]},mt:{plural:e[27]},my:{plural:e[6],ordinal:e[6]},nah:{plural:e[0]},naq:{plural:e[20]},nb:{plural:e[0],ordinal:e[6]},nd:{plural:e[0]},ne:{plural:e[0],ordinal:e[48]},nl:{plural:e[4],ordinal:e[6]},nn:{plural:e[0]},nnh:{plural:e[0]},no:{plural:e[0]},nqo:{plural:e[6]},nr:{plural:e[0]},nso:{plural:e[1]},ny:{plural:e[0]},nyn:{plural:e[0]},om:{plural:e[0]},or:{plural:e[0]},os:{plural:e[0]},pa:{plural:e[1],ordinal:e[6]},pap:{plural:e[0]},pl:{plural:e[28],ordinal:e[6]},prg:{plural:e[24],ordinal:e[6]},ps:{plural:e[0]},pt:{plural:e[29],ordinal:e[6]},"pt-PT":{plural:e[30]},rm:{plural:e[0]},ro:{plural:e[26],ordinal:e[0]},rof:{plural:e[0]},root:{plural:e[6],ordinal:e[6]},ru:{plural:e[31],ordinal:e[6]},rwk:{plural:e[0]},sah:{plural:e[6]},saq:{plural:e[0]},se:{plural:e[20]},seh:{plural:e[0]},ses:{plural:e[6]},sg:{plural:e[6]},sh:{plural:e[8],ordinal:e[6]},shi:{plural:e[32]},si:{plural:e[33],ordinal:e[6]},sk:{plural:e[9],ordinal:e[6]},sl:{plural:e[34],ordinal:e[6]},sma:{plural:e[20]},smi:{plural:e[20]},smj:{plural:e[20]},smn:{plural:e[20]},sms:{plural:e[20]},sn:{plural:e[0]},so:{plural:e[0]},sq:{plural:e[0],ordinal:e[49]},sr:{plural:e[8],ordinal:e[6]},ss:{plural:e[0]},ssy:{plural:e[0]},st:{plural:e[0]},sv:{plural:e[4],ordinal:e[50]},sw:{plural:e[4],ordinal:e[6]},syr:{plural:e[0]},ta:{plural:e[0],ordinal:e[6]},te:{plural:e[0],ordinal:e[6]},teo:{plural:e[0]},th:{plural:e[6],ordinal:e[6]},ti:{plural:e[1]},tig:{plural:e[0]},tk:{plural:e[0]},tl:{plural:e[14],ordinal:e[0]},tn:{plural:e[0]},to:{plural:e[6]},tr:{plural:e[0],ordinal:e[6]},ts:{plural:e[0]},tzm:{plural:e[35]},ug:{plural:e[0]},uk:{plural:e[31],ordinal:e[51]},ur:{plural:e[4],ordinal:e[6]},uz:{plural:e[0],ordinal:e[6]},ve:{plural:e[0]},vi:{plural:e[6],ordinal:e[0]},vo:{plural:e[0]},vun:{plural:e[0]},wa:{plural:e[1]},wae:{plural:e[0]},wo:{plural:e[6]},xh:{plural:e[0]},xog:{plural:e[0]},yi:{plural:e[4]},yo:{plural:e[6]},zh:{plural:e[6],ordinal:e[6]},zu:{plural:e[2],ordinal:e[6]}}},function(r,t){"use strict";function e(r,t){for(var e=[].concat(r||[]),n=0,a=e.length;a>n;++n)for(var l=e[n].split("-");l.length;){if(l.join("-")in t)return l.join("-");l.pop()}return"en"}t.__esModule=!0,t["default"]=e,r.exports=t["default"]},function(r,t,e){
/*!
 * Intl.MessageFormat polyfill
 * Copyright(c) 2015 Andy VanWagoner
 * MIT licensed
 **/
"use strict";function n(r){return r&&r.__esModule?r:{"default":r}}function a(r,t){var e=void 0===arguments[2]?{}:arguments[2];if("object"!=typeof this||!(this instanceof a))return new a(r,t,e);if("string"!=typeof r)throw new TypeError("message pattern must be a string");var n=p["default"](t,a.data.locales),l=a.data.locales[n],o="cache"in e?e.cache:!0,s=a.data.formats.cache,h=n+":message:"+r,c=a.data.formats,f=void 0;o&&h in s?f=s[h]:(f=u["default"].interpret(i["default"].parse(r,{escape:e.escape}),{locale:t,data:l,formats:c,cache:o}),o&&(s[h]=f)),this.resolvedOptions=function(){return l},this.format=f}t.__esModule=!0,t["default"]=a;var l=e(1),i=n(l),o=e(4),u=n(o),s=e(6),p=n(s),h=e(3),c=n(h);Object.defineProperties(a.prototype,{resolvedOptions:{configurable:!0,writable:!0,value:function(){}},format:{configurable:!0,writable:!0,value:function(){}}}),Object.defineProperties(a,{supportedLocalesOf:{configurable:!0,writable:!0,value:function(){return Object.keys(a.data.locales)}},data:{value:c["default"]}}),r.exports=t["default"]}]);
</script>
<script>
;(function(){

var TryIt = React.createClass({
  getInitialState: function () {
    return {
      pattern: 'Hello, {firstName} {lastName}!',
      params: {}
    }
  },

  didChangePattern: function (evt) {
    this.setState({ pattern: evt.target.value })
  },

  didChangeParam: function (evt) {
    var prev = this.state.params
    var params = {}
    Object.keys(prev).forEach(function (key) { params[key] = prev[key] })
    params[evt.target.name] = evt.target.value
    this.setState({ params: params })
  },

  render: function () {
    var pattern = this.state.pattern
    var ast
    var error

    try { ast = Intl.MessageFormat.Parser.parse(pattern) }
    catch (e) {
      error = e.message.replace(' in ' + pattern, '')
    }

    return React.createElement('div', { className: 'TryIt' },
      React.createElement('textarea', {
        className: 'TryIt-text icu-m',
        value: pattern,
        onChange: this.didChangePattern
      }),
      !error && React.createElement(Message, {
        className: 'TryIt-message icu-m',
        value: ast || pattern
      }),
      error && React.createElement('div', {
        className: 'TryIt-error icu-m icu-m--bad'
      }, error),
      ast && React.createElement(Params, {
        pattern: pattern,
        ast: ast,
        params: this.state.params,
        onChange: this.didChangeParam
      })
    )
  }
})

var Message = React.createClass({
  render: function () {
    var ast = this.props.value

    return React.createElement('span', {
      className: this.props.className
    }, (ast || []).map(function (element, i) {
      if (typeof element === 'string') {
        return React.createElement(MessageText, { key: i, value: element, parent: this.props.parent })
      }
      if (element[0] === '#') {
        return React.createElement('span', { key: i, className: 'icu-m-arg' }, '#')
      }

      var type = element[1];
      switch (type) {
        case 'plural':
        case 'selectordinal':
          return React.createElement(MessagePlural, { key: i, id: element[0], type: element[1], offset: element[2], options: element[3] });
        case 'select':
          return React.createElement(MessageSelect, { key: i, id: element[0], options: element[2] });
        default:
          return React.createElement(MessageArg, { key: i, id: element[0], type: element[1], style: element[2] });
      }
    }, this))
  }
})

var MessageText = React.createClass({
  render: function () {
    var special = this.props.parent === 'plural' ? /[{}#]+/g : /[{}]+/g
    var text = this.props.value
      .replace(/'/g, '\'\'') // double apostrophe
      .replace(special, '\'$&\'') // escape syntax
    return React.createElement('span', null, text)
  }
})

var MessageArg = React.createClass({
  render: function () {
    return React.createElement('span', { className: 'icu-m-arg' },
      '{ ',
      React.createElement('span', { className: 'icu-m-argname' }, this.props.id),
      this.props.type && ', ',
      this.props.type && React.createElement('span', { className: 'icu-m-argtype' }, this.props.type),
      this.props.style && ', ',
      this.props.style && React.createElement('span', { className: 'icu-m-argstyle' },
        React.createElement(MessageText, { value: this.props.style })
      ),
      ' }'
    )
  }
})

var MessagePlural = React.createClass({
  render: function () {
    return React.createElement('span', { className: 'icu-m-arg' },
      '{ ',
      React.createElement('span', { className: 'icu-m-argname' }, this.props.id),
      ', ',
      React.createElement('span', { className: 'icu-m-argtype' }, this.props.type),
      ', ',
      this.props.offset ? ' ' : null,
      this.props.offset ? React.createElement('span', { className: 'icu-m-argstyle' },
        'offset:' + this.props.offset
      ) : null,
      React.createElement(MessageOptions, { type: this.props.type, options: this.props.options }),
      React.createElement('br'),
      '}'
    )
  }
})

var MessageSelect = React.createClass({
  render: function () {
    return React.createElement('span', { className: 'icu-m-arg' },
      '{ ',
      React.createElement('span', { className: 'icu-m-argname' }, this.props.id),
      ', ',
      React.createElement('span', { className: 'icu-m-argtype' }, 'select'),
      ', ',
      React.createElement(MessageOptions, { type: 'select', options: this.props.options }),
      React.createElement('br'),
      '}'
    )
  }
})

var MessageOptions = React.createClass({
  render: function () {
    var parent = this.props.parent
    var options = this.props.options
    var keys = Object.keys(options)
    var padLength = Math.max.apply(Math, keys.map(function (key) { return key.length }))
    return React.createElement('span', null, keys.map(function (key) {
      return React.createElement('span', { key: key },
        React.createElement('br'),
        '\u00A0\u00A0',
        React.createElement('span', { className: 'icu-m-argkey' }, leftSpacePad(key, padLength)),
        ' {',
        React.createElement(Message, { parent: parent, className: 'icu-m-sub', value: options[key] }),
        '}'
      )
    }))
  }
})

var Params = React.createClass({
  render: function () {
    var params = getParamsFromPatternAst(this.props.ast)
    var args = {}
    params.forEach(function (param) {
      args[param.name] = this.props.params[param.name] || ''
      if (param.type === 'date') {
        if (typeof args[param.name] === 'string') {
          // yyyy-MM-dd is interpreted as UTC date
          // yyyy/MM/dd is interpreted as local date
          args[param.name] = args[param.name].replace(/-/g, '/')
        }
        args[param.name] = +new Date(args[param.name])
      } else if (param.type === 'time') {
        args[param.name] = +new Date('1/1/15 ' + args[param.name])
      }
    }, this)

    var final = ''
    try { final = new Intl.MessageFormat(this.props.pattern).format(args) }
    catch (e) {}

    var types = {
      number: 'number',
      select: 'text',
      plural: 'number',
      selectordinal: 'number',
      date: 'date',
      time: 'time'
    }
    return React.createElement('fieldset', { className: 'TryIt-params' },
      React.createElement('legend', { className: 'TryIt-params-legend' }, 'Preview final string with parameters:'),
      React.createElement('div', { className: 'p-table' },
        params.map(function (param) {
          return React.createElement('label', { key: param.name, className: 'p-row' },
            React.createElement('span', { className: 'p-cell' }, param.name),
            React.createElement('span', { className: 'p-cell' },
              React.createElement('input', {
                className: 'p-cell',
                type: types[param.type] || 'text',
                name: param.name,
                value: this.props.params[param.name] || '',
                onChange: this.props.onChange
              })
            )
          )
        }, this)
      ),
      React.createElement('span', { className: 'TryIt-final' }, final)
    )
  }
})

function leftSpacePad (string, count) {
  var padding = ''
  for (var i = string.length; i < count; ++i) {
    padding += ' '
  }
  return padding + string
}

function getParamsFromPatternAst (ast) {
  if (!ast || !ast.slice) return []
  var stack = ast.slice()
  var params = []
  var used = {}
  while (stack.length) {
    var element = stack.pop()
    if (typeof element === 'string') continue
    if (element.length === 1 && element[0] === '#') continue

    var name = element[0]
    var type = element[1]
    if (!(name in used)) params.push({ name: name, type: type })
    used[name] = 1
    if (type === 'select' || type === 'plural' || type === 'selectordinal') {
      var children = type === 'select' ? element[2] : element[3]
      stack = stack.concat.apply(stack,
        Object.keys(children).map(function (key) { return children[key] })
      )
    }
  }
  return params.reverse()
}

React.render(React.createElement(TryIt), document.getElementById('tryit'))
})()
</script>
</body>
</html>
